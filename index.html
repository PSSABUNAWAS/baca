<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aplikasi Baca (v4 - CSV)</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a4a8a">
  <link rel="apple-touch-icon" href="icons/icon192.png">
  <style>
    :root { --brand:#0a4a8a; --accent:#14a44d; --danger:#c62828; --bg:#f5f8ff; --card:#ffffff; --text:#0f172a; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    header{padding:20px 16px;text-align:center;background:linear-gradient(180deg,#0a4a8a,#0a4a8a 70%, transparent 70%);color:#fff}
    h1{margin:0;font-size:1.6rem}
    main{max-width:980px;margin:-36px auto 40px;padding:0 16px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 8px 28px rgba(16,24,40,.08);padding:20px}
    .controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:10px 0 18px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center}
    button{padding:12px 18px;border:none;border-radius:10px;font-weight:600;cursor:pointer}
    #mula{background:var(--accent);color:#fff}
    #henti{background:var(--danger);color:#fff}
    #simpan{background:var(--brand);color:#fff}
    #eksport{background:#0a8a4a;color:#fff}
    #kosong{background:#6b7280;color:#fff}
    .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));align-items:stretch;margin-top:10px}
    .kotak{background:var(--card);border:2px solid #e2e8f0;border-radius:14px;padding:18px;text-align:center}
    .label{font-size:.95rem;font-weight:700;color:#334155}
    .nilai{font-size:2rem;margin-top:6px;color:var(--brand);font-weight:800}
    .foot{margin-top:14px;font-size:.86rem;color:#475569;text-align:center}
    .status-dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;background:#22c55e}
    input,select{padding:10px 12px;border-radius:10px;border:1px solid #cbd5e1;min-width:200px}
    .badge{display:inline-block;padding:6px 12px;border-radius:999px;color:#0a0a0a;font-weight:800}
    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#0a4a8a;color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 6px 24px rgba(0,0,0,.18);opacity:0;transition:opacity .25s}
    .toast.show{opacity:1}
    .ring{width:200px;height:200px;margin:6px auto;position:relative}
    .ring svg{width:100%;height:100%}
    .ring .center{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column}
    .ring .center .big{font-size:2.4rem;font-weight:800;color:var(--brand)}
    .ring .center .sub{font-size:.95rem;color:#475569}
    .desc{background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;padding:12px;text-align:left;font-size:.95rem;color:#1f2937}
    .head{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:8px 0 12px}
  </style>
</head>
<body>
  <header>
    <h1>Aplikasi Baca (v4 – CSV)</h1>
    <div class="status"><span class="status-dot"></span><span>Berfungsi 100% offline. Eksport CSV bila perlu.</span></div>
  </header>

  <main>
    <div class="card">
      <div class="head">
        <input id="nama" placeholder="Nama murid (pilihan)" />
        <select id="kelas">
          <option value="">Pilih kelas (opsyenal)</option>
          <option>1 Al-Khawarizmi</option>
          <option>2 Al-Biruni</option>
          <option>3 Al-Farabi</option>
          <option>4 Ibnu Sina</option>
          <option>5 Al-Ghazali</option>
          <option>6 Ibnu Khaldun</option>
        </select>
        <select id="tahun">
          <option value="3">Tahun 3</option>
          <option value="6" selected>Tahun 6</option>
        </select>
      </div>

      <div class="controls">
        <button id="mula">MULA</button>
        <button id="henti">HENTI</button>
        <button id="simpan">SIMPAN</button>
        <button id="eksport">EKSPORT CSV</button>
        <button id="kosong">KOSONGKAN DATA</button>
      </div>

      <div class="grid">
        <div class="kotak">
          <div class="label">Peratus Minat/Mahu Baca (1–100%)</div>
          <div class="ring">
            <svg viewBox="0 0 120 120">
              <circle cx="60" cy="60" r="52" fill="none" stroke="#e2e8f0" stroke-width="10"/>
              <circle id="progressRing" cx="60" cy="60" r="52" fill="none" stroke="var(--brand)" stroke-width="10"
                stroke-linecap="round" stroke-dasharray="326 326" stroke-dashoffset="326"
                transform="rotate(-90 60 60)"/>
            </svg>
            <div class="center">
              <div class="big" id="peratus">50%</div>
              <div class="sub">Laraskan slider di bawah</div>
            </div>
          </div>
          <div class="row">
            <input id="peratusSlider" type="range" min="1" max="100" value="50" />
            <input id="peratusInput" type="number" min="1" max="100" value="50" style="width:90px;text-align:center"/>
          </div>
        </div>

        <div class="kotak">
          <div class="label">Tahap Penguasaan (TP 1–6) — berasingan</div>
          <div class="nilai"><span class="badge" id="penguasaan">3</span></div>
          <div class="row">
            <select id="tpSelect">
              <option value="1">TP1 — Sangat Terhad</option>
              <option value="2">TP2 — Terhad</option>
              <option value="3" selected>TP3 — Memuaskan</option>
              <option value="4">TP4 — Baik</option>
              <option value="5">TP5 — Sangat Baik</option>
              <option value="6">TP6 — Cemerlang</option>
            </select>
          </div>
          <div class="desc" id="penyataTP">Penyata prestasi penuh akan dipaparkan di sini (ikut Tahun & TP).</div>
        </div>
      </div>

      <div class="foot">Semua rekod disimpan dalam pelayar (localStorage). Guna <b>EKSPORT CSV</b> untuk muat turun fail <i>aplikasi_baca_log.csv</i>.</div>
    </div>
  </main>

  <div class="toast" id="toast">Disimpan!</div>

  <script src="app.js"></script>
</body>
</html>
